(function(t){function e(e){for(var n,a,r=e[0],l=e[1],u=e[2],c=0,h=[];c<r.length;c++)a=r[c],o[a]&&h.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(h.length)h.shift()();return s.push.apply(s,u||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,a=1;a<i.length;a++){var r=i[a];0!==o[r]&&(n=!1)}n&&(s.splice(e--,1),t=l(l.s=i[0]))}return t}var n={},a={index:0},o={index:0},s=[];function r(t){return l.p+"js/"+({}[t]||t)+"."+{"chunk-7f605937":"59aac492"}[t]+".js"}function l(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.e=function(t){var e=[],i={"chunk-7f605937":1};a[t]?e.push(a[t]):0!==a[t]&&i[t]&&e.push(a[t]=new Promise(function(e,i){for(var n="css/"+({}[t]||t)+"."+{"chunk-7f605937":"d46905e6"}[t]+".css",o=l.p+n,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var u=s[r],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===n||c===o))return e()}var h=document.getElementsByTagName("style");for(r=0;r<h.length;r++){u=h[r],c=u.getAttribute("data-href");if(c===n||c===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var n=e&&e.target&&e.target.src||o,s=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");s.request=n,delete a[t],d.parentNode.removeChild(d),i(s)},d.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(d)}).then(function(){a[t]=0}));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise(function(e,i){n=o[t]=[e,i]});e.push(n[2]=s);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=r(t),u=function(e){c.onerror=c.onload=null,clearTimeout(h);var i=o[t];if(0!==i){if(i){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+n+": "+a+")");s.type=n,s.request=a,i[1](s)}o[t]=void 0}};var h=setTimeout(function(){u({type:"timeout",target:c})},12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(e)},l.m=t,l.c=n,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)l.d(i,n,function(e){return t[e]}.bind(null,n));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var h=0;h<u.length;h++)e(u[h]);var d=c;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("64a9"),a=i.n(n);a.a},"13e9":function(t,e,i){"use strict";var n=i("a664"),a=i.n(n);a.a},"16d9":function(t,e,i){},"220b":function(t,e,i){},4185:function(t,e,i){},"426e":function(t,e,i){},4336:function(t,e,i){"use strict";var n=i("220b"),a=i.n(n);a.a},"52c1":function(t,e,i){},"534f":function(t,e,i){t.exports=i.p+"img/logo1.04ab9ac2.png"},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ui-designer",attrs:{id:"app"}},[i("router-view")],1)},o=[],s=(i("034f"),i("2877")),r={},l=Object(s["a"])(r,a,o,!1,null,null,null),u=l.exports,c=i("8c4f"),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[t.isMobile750?t._e():i("desigenerPage"),t.isMobile750?i("el-alert",{attrs:{title:"不支持该设备",type:"warning",description:"目前不支持在移动设备上打开,建议切换到Google Chrome上进行操作","show-icon":""}}):t._e()],1)},d=[],p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"desigener"},[i("div",{staticClass:"page-header-tools"},[i("img",{attrs:{src:t.logo,alt:"Web Designer"}}),i("div",{staticClass:"page-header-tools__wrap"},[i("ul",{staticClass:"page-header-tools__ul"},[i("li",{staticClass:"page-header-tools__ul-item",on:{click:t.preview}},[t._v("预览")]),i("li",{staticClass:"page-header-tools__ul-item",on:{click:t.release}},[t._v("发布")])])])]),i("div",{staticClass:"desigener-page"},[i("div",{staticClass:"desigener-page__item desigener-page__center"},[i("designerArea")],1),i("div",{staticClass:"desigener-page__item desigener-page__left"},[i("el-collapse",{attrs:{value:"1"}},[i("el-collapse-item",{attrs:{name:"1",title:"布局层级树:"}},[i("el-tree",{ref:"componentTree",attrs:{"node-key":"id",data:t.componentList,"highlight-current":!0}})],1)],1)],1),i("div",{staticClass:"desigener-page__item desigener-page__right"},[i("el-collapse",{staticClass:"desigener-page__collapse",attrs:{value:["1","2","3"]}},[i("el-collapse-item",{attrs:{name:"1",title:"页面属性:"}},[i("pageFormView",{attrs:{options:t.pageOptions},on:{updateOptions:t.updatePageFn}})],1),i("el-collapse-item",{attrs:{name:"2",title:"组件属性:"}},[i("pageFormView",{attrs:{options:t.currentPluginOptions},on:{updateOptions:t.updatePluginsPropsFn}})],1),i("el-collapse-item",{attrs:{name:"3",title:"组件列表:"}},[i("componentsList")],1)],1)],1)])])},g=[],f=i("268f"),m=i.n(f),b=(i("7f7f"),i("5e15")),v=i("d225"),y=i("b0b4"),w=i("308d"),x=i("6bb5"),k=i("013f"),O=i("4e2b"),P=i("d360"),j=(i("77a7"),i("65d9")),C=i.n(j),L=i("5176"),S=i.n(L),T=i("4bb5"),z=(i("4917"),i("0a0d")),_=i.n(z),R=(i("6b54"),i("06db"),i("a481"),function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"==t?e:3&e|8;return i.toString(16)})}),M=function(t){return Object.prototype.toString.call(t)},B=function t(){for(var e=[],i=e[0],n=e[1],a=e[2],o=e[3],s=e[4],r=e[5],l=e[6],u=e[7],c=e[8],h=arguments.length,d=new Array(h),p=0;p<h;p++)d[p]=arguments[p];for(i=d[0]||{},a=1,n=!1,l=d.length,"boolean"===typeof i&&(n=i,i=d[a]||{},a++);a<l;a++)if(null!==(r=d[a]))for(var g in r)u=r[g],"__proto__"!==g&&i!==u&&(n&&void 0!==u&&((c="[object Array]"===M(u))||"[object Object]"===M(u))?(s=i[g],o=c&&"[object Array]"!==M(s)?[]:c||"[object Object]"===M(s)?s:{},c=!1,i[g]=t(n,o,u)):void 0!==M(u)&&(i[g]=u));return i},E=function(t,e,i){var n,a,o,s,r=0;i||(i={});var l=function(){r=!1===i.leading?0:_()(),n=null,s=t.apply(a,o),n||(a=o=null)},u=function(){var u=_()();r||!1!==i.leading||(r=u);var c=e-(u-r);return a=this,o=arguments,c<=0||c>e?(n&&(clearTimeout(n),n=null),r=u,s=t.apply(a,o),n||(a=o=null)):n||!1===i.trailing||(n=setTimeout(l,c)),s};return u.cancel=function(){clearTimeout(n),r=0,n=a=o=null},u},H=function(){return!!navigator.userAgent.match(/(phone|pod|iPhone|iPod|ios|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)&&document.body.offsetWidth<=750}(),D=[{key:"xaInput",props:{type:"text",value:"",size:"small",placeholder:"输入框",clearable:!1,disabled:!1,readonly:!1,maxlength:200,icon:"",prefix:"",suffix:"",search:!1,enterButton:!1,rows:2,autosize:!1,number:!1,autofocus:!1,autocomplete:"off"},style:{paddingTop:5,paddingBottom:5,paddingLeft:5,paddingRight:5,borderWidth:1,borderStyle:"solid",borderColor:"#000"},custom:{width:200,height:200,x:0,y:0,name:"Input 输入框"},options:[{label:"组件信息",type:"title"},{id:"custom.id",label:"组件ID",type:"input",options:{disabled:!0}},{id:"custom.name",label:"组件名",type:"input"},{label:"尺寸",type:"title"},{id:"custom.width",label:"宽",type:"inputNumber",options:{min:0,max:1/0}},{id:"custom.height",label:"高",type:"inputNumber",options:{min:0,max:1/0}},{label:"位置",type:"title"},{id:"custom.x",label:"x坐标",type:"inputNumber",options:{min:0,max:1920}},{id:"custom.y",label:"y坐标",type:"inputNumber",options:{min:0,max:850}},{label:"属性配置",type:"title"},{id:"props.value",label:"当前值",type:"input"},{id:"props.type",label:"类型",type:"select",list:[{value:"text",label:"text"},{value:"password",label:"password"},{value:"textarea",label:"textarea"},{value:"url",label:"url"},{value:"email",label:"email"},{value:"date",label:"date"},{value:"number",label:"number"},{value:"tel",label:"tel"}]},{id:"props.size",label:"尺寸",type:"select",list:[{value:"default",label:"default"},{value:"large",label:"large"},{value:"small",label:"small"}]},{id:"props.placeholder",label:"占位文本",type:"input"},{id:"props.clearable",label:"清空按钮",type:"switch",activeText:"显示",inactiveText:"隐藏"},{id:"props.disabled",label:"禁用状态",type:"switch",activeText:"禁用",inactiveText:"启用"},{id:"props.readonly",label:"只读",type:"switch"},{label:"样式配置",type:"title"},{id:"style.paddingTop",label:"内边距-上",type:"inputNumber"},{id:"style.paddingBottom",label:"内边距-下",type:"inputNumber"},{id:"style.paddingLeft",label:"内边距-左",type:"inputNumber"},{id:"style.paddingRight",label:"内边距-右",type:"inputNumber"},{id:"style.borderWidth",label:"边框宽度",type:"inputNumber"},{id:"style.borderStyle",label:"边框样式",type:"select",list:[{label:"无",value:"none"},{label:"直线",value:"solid"},{label:"虚线",value:"dashed"},{label:"圆点线",value:"dotted"},{label:"双实线",value:"double"}]},{id:"style.borderColor",label:"边框颜色",type:"color"}]}],N=function(){function t(e){Object(v["a"])(this,t),this.options=S()([],D,e)}return Object(y["a"])(t,[{key:"setOption",value:function(){}},{key:"getOption",value:function(t){return B(!0,[],t?this.options.filter(function(e){return e.key===t}):this.options)}},{key:"getDefaultConfig",value:function(){return B(!0,[],this.options)}}]),t}(),W=function(){var t,e=this,i=e.$createElement,n=e._self._c||i;return n("div",{class:[(t={},t[e.classNameActive]=e.enabled,t[e.classNameDragging]=e.dragging,t[e.classNameResizing]=e.resizing,t[e.classNameDraggable]=e.draggable,t[e.classNameResizable]=e.resizable,t),e.className],style:e.style,on:{mousedown:e.elementDown,touchstart:e.elementTouchDown}},[e._l(e.actualHandles,function(t){return n("div",{key:t,class:[e.classNameHandle,e.classNameHandle+"-"+t],style:{display:e.enabled?"block":"none"},on:{mousedown:function(i){return i.stopPropagation(),i.preventDefault(),e.handleDown(t,i)},touchstart:function(i){return i.stopPropagation(),i.preventDefault(),e.handleTouchDown(t,i)}}},[e._t(t)],2)}),e._t("default")],2)},$=[],A=i("cebc"),F=(i("3b2b"),i("e814")),V=i.n(F),I=i("768b"),X=(i("6762"),i("2fdb"),i("b6d0")),Y=i.n(X);i("c5f6"),i("7514");function U(t){return"function"===typeof t||"[object Function]"===Object.prototype.toString.call(t)}function q(t,e,i){var n=t,a=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(function(t){return U(n[t])});if(!U(n[a]))return!1;do{if(n[a](e))return!0;if(n===i)return!1;n=n.parentNode}while(n);return!1}function K(t,e,i){t&&(t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener?t.addEventListener(e,i,!0):t["on"+e]=i)}function G(t,e,i){t&&(t.detachEvent?t.detachEvent("on"+e,i):t.removeEventListener?t.removeEventListener(e,i,!0):t["on"+e]=null)}var J,Q,Z,tt,et,it,nt,at,ot,st,rt,lt,ut,ct,ht={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},dt={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},pt={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"},gt=ht.mouse,ft={replace:!0,name:"vue-draggable-resizable",props:{debug:{type:Boolean,default:!1},className:{type:String,default:"vdr"},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},lockAspectRatio:{type:Boolean,default:!1},w:{type:Number,default:200,validator:function(t){return t>0}},h:{type:Number,default:200,validator:function(t){return t>0}},minWidth:{type:Number,default:0,validator:function(t){return t>=0}},minHeight:{type:Number,default:0,validator:function(t){return t>=0}},maxWidth:{type:Number,default:null,validator:function(t){return t>=0}},maxHeight:{type:Number,default:null,validator:function(t){return t>=0}},x:{type:Number,default:0,validator:function(t){return"number"===typeof t}},y:{type:Number,default:0,validator:function(t){return"number"===typeof t}},z:{type:[String,Number],default:"auto",validator:function(t){return"string"===typeof t?"auto"===t:t>=0}},handles:{type:Array,default:function(){return["tl","tm","tr","mr","br","bm","bl","ml"]},validator:function(t){var e=new Y.a(["tl","tm","tr","mr","br","bm","bl","ml"]);return new Y.a(t.filter(function(t){return e.has(t)})).size===t.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:function(t){return["x","y","both"].includes(t)}},grid:{type:Array,default:function(){return[1,1]}},parent:{type:[Boolean,String],default:!1},onDragStart:{type:Function,default:null},onResizeStart:{type:Function,default:null},parentSelector:{type:String},snap:{type:Boolean,default:!1},snapTolerance:{type:Number,default:15,validator:function(t){return"number"===typeof t}}},data:function(){return{rawWidth:this.w,rawHeight:this.h,rawLeft:this.x,rawTop:this.y,rawRight:null,rawBottom:null,left:this.x,top:this.y,right:null,bottom:null,aspectFactor:this.w/this.h,parentWidth:null,parentHeight:null,minW:this.minWidth,minH:this.minHeight,maxW:this.maxWidth,maxH:this.maxHeight,handle:null,enabled:this.active,resizing:!1,dragging:!1,zIndex:this.z,isLeftAbsorption:!1,isTopAbsorption:!1}},created:function(){this.maxWidth&&this.minWidth>this.maxWidth&&console.warn("[Vdr warn]: Invalid prop: minWidth cannot be greater than maxWidth"),this.maxWidth&&this.minHeight>this.maxHeight&&console.warn("[Vdr warn]: Invalid prop: minHeight cannot be greater than maxHeight"),this.resetBoundsAndMouseState()},mounted:function(){this.enableNativeDrag||(this.$el.ondragstart=function(){return!1});var t=this.getParentSize(),e=Object(I["a"])(t,2);this.parentWidth=e[0],this.parentHeight=e[1],this.rawRight=this.parentWidth-this.rawWidth-this.rawLeft,this.rawBottom=this.parentHeight-this.rawHeight-this.rawTop,K(document.documentElement,"mousedown",this.deselect),K(document.documentElement,"touchend touchcancel",this.deselect),K(window,"resize",this.checkParentSize),this.setSnap()},beforeDestroy:function(){G(document.documentElement,"mousedown",this.deselect),G(document.documentElement,"touchstart",this.handleUp),G(document.documentElement,"mousemove",this.move),G(document.documentElement,"touchmove",this.move),G(document.documentElement,"mouseup",this.handleUp),G(document.documentElement,"touchend touchcancel",this.deselect),G(window,"resize",this.checkParentSize)},methods:{setSnap:function(){this.snap?this.$el.setAttribute("data-is-snap","true"):this.$el.setAttribute("data-is-snap","false")},snapCheck:function(){if(this.snap){var t=this.$el.parentNode.childNodes;if(t.length>1)for(var e=this.rawLeft,i=this.rawLeft+this.width,n=this.rawTop,a=this.rawTop+this.height,o=0;o<t.length;o++)if(t[o]!==this.$el&&void 0!==t[o].className&&"false"!==t[o].getAttribute("data-is-snap")){var s=t[o].offsetLeft,r=s+t[o].offsetWidth,l=t[o].offsetTop,u=l+t[o].offsetHeight,c=Math.abs(l-a)<=this.snapTolerance,h=Math.abs(u-n)<=this.snapTolerance,d=Math.abs(s-i)<=this.snapTolerance,p=Math.abs(r-e)<=this.snapTolerance;c&&(this.rawTop=l-this.height,this.rawBottom=this.parentHeight-this.height-this.rawTop),h&&(this.rawTop=u,this.rawBottom=this.parentHeight-this.height-this.rawTop),d&&(this.rawLeft=s-this.width,this.rawRight=this.parentWidth-this.width-this.rawLeft),p&&(this.rawLeft=r,this.rawRight=this.parentWidth-this.width-this.rawLeft)}}},resetBoundsAndMouseState:function(){this.mouseClickPosition={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.bounds={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},checkParentSize:function(){if(this.parent){var t=this.getParentSize(),e=Object(I["a"])(t,2),i=e[0],n=e[1],a=this.parentWidth-i,o=this.parentHeight-n;this.rawRight-=a,this.rawBottom-=o,this.parentWidth=i,this.parentHeight=n}},getParentSize:function(){var t=this.parent;if(!0===t){var e=window.getComputedStyle(this.$el.parentNode,null);return[V()(e.getPropertyValue("width"),10),V()(e.getPropertyValue("height"),10)]}if("string"===typeof t){var i=document.querySelector(t);if(!(i instanceof HTMLElement))throw new Error("The selector ".concat(t," does not match any element"));return[i.offsetWidth,i.offsetHeight]}return[null,null]},elementTouchDown:function(t){gt=ht.touch,this.elementDown(t)},elementDown:function(t){var e=t.target||t.srcElement;if(this.$el.contains(e)){if(this.onDragStart&&!1===this.onDragStart(t))return;if(this.dragHandle&&!q(e,this.dragHandle,this.$el)||this.dragCancel&&q(e,this.dragCancel,this.$el))return;this.enabled||(this.enabled=!0,this.$emit("activated"),this.$emit("update:active",!0)),this.draggable&&(this.dragging=!0),this.mouseClickPosition.mouseX=t.touches?t.touches[0].pageX:t.pageX,this.mouseClickPosition.mouseY=t.touches?t.touches[0].pageY:t.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.parent&&(this.bounds=this.calcDragLimits()),K(document.documentElement,gt.move,this.move),K(document.documentElement,gt.stop,this.handleUp)}},calcDragLimits:function(){return{minLeft:(this.parentWidth+this.left)%this.grid[0],maxLeft:Math.floor((this.parentWidth-this.width-this.left)/this.grid[0])*this.grid[0]+this.left,minRight:(this.parentWidth+this.right)%this.grid[0],maxRight:Math.floor((this.parentWidth-this.width-this.right)/this.grid[0])*this.grid[0]+this.right,minTop:(this.parentHeight+this.top)%this.grid[1],maxTop:Math.floor((this.parentHeight-this.height-this.top)/this.grid[1])*this.grid[1]+this.top,minBottom:(this.parentHeight+this.bottom)%this.grid[1],maxBottom:Math.floor((this.parentHeight-this.height-this.bottom)/this.grid[1])*this.grid[1]+this.bottom}},deselect:function(t){var e=t.target||t.srcElement,i=new RegExp(this.className+"-([trmbl]{2})",""),n=document.querySelector(this.parentSelector);this.$el.contains(e)||i.test(e.className)||!n.contains(e)||(this.enabled&&!this.preventDeactivation&&(this.enabled=!1,this.$emit("deactivated"),this.$emit("update:active",!1)),G(document.documentElement,gt.move,this.handleMove)),this.resetBoundsAndMouseState()},handleTouchDown:function(t,e){gt=ht.touch,this.handleDown(t,e)},handleDown:function(t,e){this.onResizeStart&&!1===this.onResizeStart(t,e)||(e.stopPropagation&&e.stopPropagation(),this.lockAspectRatio&&!t.includes("m")?this.handle="m"+t.substring(1):this.handle=t,this.resizing=!0,this.mouseClickPosition.mouseX=e.touches?e.touches[0].pageX:e.pageX,this.mouseClickPosition.mouseY=e.touches?e.touches[0].pageY:e.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.bounds=this.calcResizeLimits(),K(document.documentElement,gt.move,this.handleMove),K(document.documentElement,gt.stop,this.handleUp))},calcResizeLimits:function(){var t=this.minW,e=this.minH,i=this.maxW,n=this.maxH,a=this.aspectFactor,o=Object(I["a"])(this.grid,2),s=o[0],r=o[1],l=this.width,u=this.height,c=this.left,h=this.top,d=this.right,p=this.bottom;this.lockAspectRatio&&(t/e>a?e=t/a:t=a*e,i&&n?(i=Math.min(i,a*n),n=Math.min(n,i/a)):i?n=i/a:n&&(i=a*n)),i-=i%s,n-=n%r;var g={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return this.parent?(g.minLeft=(this.parentWidth+c)%s,g.maxLeft=c+Math.floor((l-t)/s)*s,g.minTop=(this.parentHeight+h)%r,g.maxTop=h+Math.floor((u-e)/r)*r,g.minRight=(this.parentWidth+d)%s,g.maxRight=d+Math.floor((l-t)/s)*s,g.minBottom=(this.parentHeight+p)%r,g.maxBottom=p+Math.floor((u-e)/r)*r,i&&(g.minLeft=Math.max(g.minLeft,this.parentWidth-d-i),g.minRight=Math.max(g.minRight,this.parentWidth-c-i)),n&&(g.minTop=Math.max(g.minTop,this.parentHeight-p-n),g.minBottom=Math.max(g.minBottom,this.parentHeight-h-n)),this.lockAspectRatio&&(g.minLeft=Math.max(g.minLeft,c-h*a),g.minTop=Math.max(g.minTop,h-c/a),g.minRight=Math.max(g.minRight,d-p*a),g.minBottom=Math.max(g.minBottom,p-d/a))):(g.minLeft=null,g.maxLeft=c+Math.floor((l-t)/s)*s,g.minTop=null,g.maxTop=h+Math.floor((u-e)/r)*r,g.minRight=null,g.maxRight=d+Math.floor((l-t)/s)*s,g.minBottom=null,g.maxBottom=p+Math.floor((u-e)/r)*r,i&&(g.minLeft=-(d+i),g.minRight=-(c+i)),n&&(g.minTop=-(p+n),g.minBottom=-(h+n)),this.lockAspectRatio&&i&&n&&(g.minLeft=Math.min(g.minLeft,-(d+i)),g.minTop=Math.min(g.minTop,-(n+p)),g.minRight=Math.min(g.minRight,-c-i),g.minBottom=Math.min(g.minBottom,-h-n))),g},move:function(t){this.resizing?this.handleMove(t):this.dragging&&this.elementMove(t)},elementMove:function(t){var e=this.axis,i=(this.grid,this.mouseClickPosition),n=e&&"y"!==e?i.mouseX-(t.touches?t.touches[0].pageX:t.pageX):0,a=e&&"x"!==e?i.mouseY-(t.touches?t.touches[0].pageY:t.pageY):0,o=this.snapToGrid(this.grid,n,a),s=Object(I["a"])(o,2),r=s[0],l=s[1];(r||l)&&(this.rawTop=i.top-l,this.rawBottom=i.bottom+l,this.rawLeft=i.left-r,this.rawRight=i.right+r,this.snapCheck(),this.$emit("dragging",this.left,this.top))},handleMove:function(t){var e=this.handle,i=this.mouseClickPosition,n=i.mouseX-(t.touches?t.touches[0].pageX:t.pageX),a=i.mouseY-(t.touches?t.touches[0].pageY:t.pageY),o=this.snapToGrid(this.grid,n,a),s=Object(I["a"])(o,2),r=s[0],l=s[1];(r||l)&&(e.includes("b")?this.rawBottom=i.bottom+l:e.includes("t")&&(this.rawTop=i.top-l),e.includes("r")?this.rawRight=i.right+r:e.includes("l")&&(this.rawLeft=i.left-r),this.$emit("resizing",this.left,this.top,this.width,this.height))},handleUp:function(t){this.handle=null,this.resetBoundsAndMouseState(),this.rawTop=this.top,this.rawBottom=this.bottom,this.rawLeft=this.left,this.rawRight=this.right,this.resizing&&(this.resizing=!1,this.$emit("resizestop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,this.$emit("dragstop",this.left,this.top)),G(document.documentElement,gt.move,this.handleMove)},snapToGrid:function(t,e,i){var n=Math.round(e/t[0])*t[0],a=Math.round(i/t[1])*t[1];return[n,a]}},computed:{style:function(){return Object(A["a"])({position:"absolute",top:this.top+"px",left:this.left+"px",width:this.width+"px",height:this.height+"px",zIndex:this.zIndex},this.dragging&&this.disableUserSelect?dt:pt)},actualHandles:function(){return this.resizable?this.handles:[]},width:function(){return this.parentWidth-this.left-this.right},height:function(){return this.parentHeight-this.top-this.bottom},resizingOnX:function(){return Boolean(this.handle)&&(this.handle.includes("l")||this.handle.includes("r"))},resizingOnY:function(){return Boolean(this.handle)&&(this.handle.includes("t")||this.handle.includes("b"))},isCornerHandle:function(){return Boolean(this.handle)&&["tl","tr","br","bl"].includes(this.handle)}},watch:{active:function(t){this.enabled=t,t?this.$emit("activated"):this.$emit("deactivated")},z:function(t){(t>=0||"auto"===t)&&(this.zIndex=t)},rawLeft:function(t){var e=this.bounds,i=this.aspectFactor,n=this.lockAspectRatio,a=this.left,o=this.top;null!==e.minLeft&&t<e.minLeft?t=e.minLeft:null!==e.maxLeft&&e.maxLeft<t&&(t=e.maxLeft),n&&this.resizingOnX&&(this.rawTop=o-(a-t)/i),this.left=t},rawRight:function(t){var e=this.bounds,i=this.aspectFactor,n=this.lockAspectRatio,a=this.right,o=this.bottom;null!==e.minRight&&t<e.minRight?t=e.minRight:null!==e.maxRight&&e.maxRight<t&&(t=e.maxRight),n&&this.resizingOnX&&(this.rawBottom=o-(a-t)/i),this.right=t},rawTop:function(t){var e=this.bounds,i=this.aspectFactor,n=this.lockAspectRatio,a=this.left,o=this.top;null!==e.minTop&&t<e.minTop?t=e.minTop:null!==e.maxTop&&e.maxTop<t&&(t=e.maxTop),n&&this.resizingOnY&&(this.rawLeft=a-(o-t)*i),this.top=t},rawBottom:function(t){var e=this.bounds,i=this.aspectFactor,n=this.lockAspectRatio,a=this.right,o=this.bottom;null!==e.minBottom&&t<e.minBottom?t=e.minBottom:null!==e.maxBottom&&e.maxBottom<t&&(t=e.maxBottom),n&&this.resizingOnY&&(this.rawRight=a-(o-t)*i),this.bottom=t},x:function(){if(!this.resizing&&!this.dragging){this.parent&&(this.bounds=this.calcDragLimits());var t=this.x-this.left;t%this.grid[0]===0&&(this.rawLeft=this.x,this.rawRight=this.right-t)}},y:function(){if(!this.resizing&&!this.dragging){this.parent&&(this.bounds=this.calcDragLimits());var t=this.y-this.top;t%this.grid[1]===0&&(this.rawTop=this.y,this.rawBottom=this.bottom-t)}},lockAspectRatio:function(t){this.aspectFactor=t?this.width/this.height:void 0},minWidth:function(t){t>0&&t<=this.width&&(this.minW=t)},minHeight:function(t){t>0&&t<=this.height&&(this.minH=t)},maxWidth:function(t){this.maxW=t},maxHeight:function(t){this.maxH=t},w:function(){if(!this.resizing&&!this.dragging){this.parent&&(this.bounds=this.calcResizeLimits());var t=this.width-this.w;t%this.grid[0]===0&&(this.rawRight=this.right+t)}},h:function(){if(!this.resizing&&!this.dragging){this.parent&&(this.bounds=this.calcResizeLimits());var t=this.height-this.h;t%this.grid[1]===0&&(this.rawBottom=this.bottom+t)}}}},mt=ft,bt=(i("ee74"),Object(s["a"])(mt,W,$,!1,null,null,null)),vt=bt.exports,yt=(i("795b"),i("a745")),wt=i.n(yt),xt=i("4aa6"),kt=i.n(xt),Ot=i("7618");function Pt(t){return Object(j["createDecorator"])(function(e,i){(e.props||(e.props={}))[i]=t})}function jt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.deep,n=void 0!==i&&i,a=e.immediate,o=void 0!==a&&a;return Object(j["createDecorator"])(function(e,i){"object"!==Object(Ot["a"])(e.watch)&&(e.watch=kt()(null));var a=e.watch;"object"!==Object(Ot["a"])(a[t])||wt()(a[t])?"undefined"===typeof a[t]&&(a[t]=[]):a[t]=[a[t]],a[t].push({handler:i,deep:n,immediate:o})})}var Ct,Lt,St,Tt,zt,_t,Rt,Mt,Bt,Et,Ht,Dt,Nt,Wt,$t,At,Ft,Vt,It,Xt,Yt,Ut,qt,Kt,Gt,Jt,Qt,Zt,te,ee,ie,ne,ae,oe,se,re,le,ue,ce,he,de,pe,ge,fe,me,be,ve,ye,we,xe,ke,Oe,Pe,je,Ce,Le=(J=C()(),Q=Pt(Number),Z=Pt(Number),tt=Pt(Number),et=Pt(Number),it=Pt(String),J((ct=function(t){function e(){var t,i;Object(v["a"])(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=Object(w["a"])(this,(t=Object(x["a"])(e)).call.apply(t,[this].concat(a))),Object(b["a"])(i,"xw",ot,Object(k["a"])(i)),Object(b["a"])(i,"yw",st,Object(k["a"])(i)),Object(b["a"])(i,"xh",rt,Object(k["a"])(i)),Object(b["a"])(i,"yh",lt,Object(k["a"])(i)),Object(b["a"])(i,"background",ut,Object(k["a"])(i)),i.scrollX=0,i.scrollY=0,i}return Object(O["a"])(e,t),Object(y["a"])(e,[{key:"bindEvent",value:function(){var t=this,e=document.querySelector("#pageCanvasContainer"),i=0,n=0,a=!1;function o(e,i){t.scrollX=e,t.scrollY=i}e.addEventListener("scroll",function(t){i=t.target.scrollLeft,n=t.target.scrollTop,a||window.requestAnimationFrame(function(){o(n,i),a=!1}),a=!0})}},{key:"showVruleLine",value:function(t){this.$emit("showVruleLine",t)}},{key:"hideVruleLine",value:function(t){this.$emit("hideVruleLine",t)}},{key:"showHruleLine",value:function(t){this.$emit("showHruleLine",t)}},{key:"hideHruleLine",value:function(t){this.$emit("hideHruleLine",t)}},{key:"dragover",value:function(t){this.$emit("dragover",t)}},{key:"drop",value:function(t){this.$emit("drop",t)}},{key:"dragend",value:function(t){this.$emit("dragend",t)}},{key:"mounted",value:function(){this.bindEvent()}},{key:"renderChildren",value:function(t){var e=this;return{createRuler:function(t,e,i,n){var a=[],o=e,s=function(t){return{transform:"y"===n?"translateY(".concat(t,"px)"):"translateX(".concat(t,"px)")}};while(o<=i)(o-e)%50==0?a.push(t("div",{class:"tickLabel",style:s(o)},[t("span",[o-e])])):(o-e)%10==0?a.push(t("div",{class:"tickMajor",style:s(o)})):(o-e)%5==0&&a.push(t("div",{class:"tickMinor",style:s(o)})),o+=5;return a},vruler:function(t){return this.createRuler(t,e.yh,e.yw,"y")},hruler:function(t){return this.createRuler(t,e.xh,e.xw,"x")},createVrule:function(t){return t("div",{class:"ruler vRule",on:{mousemove:function(t){return e.showVruleLine(t)},mouseleave:function(t){return e.hideVruleLine(t)}},style:e.vrulerStyle},[this.vruler(t)])},createHrule:function(t){return t("div",{class:"ruler hRule",on:{mousemove:function(t){return e.showHruleLine(t)},mouseleave:function(t){return e.hideHruleLine(t)}},style:e.hrulerStyle},[this.hruler(t)])}}}},{key:"render",value:function(t){var e=this;return t("div",{class:"page-canvas",attrs:{id:"pageCanvasContainer"}},[t("div",{class:"page-canvas__wrap",style:this.wrapStyle,on:{drop:function(t){return e.drop(t)},dragover:function(t){return e.dragover(t)},dragend:function(t){return e.dragend(t)}}},[this.renderChildren()["createVrule"](t),this.renderChildren()["createHrule"](t),t("div",{class:"page-canvas__components",style:this.componentsWrapStyle},[this.$slots.default])])])}},{key:"wrapStyle",get:function(){return{width:this.xw+"px",height:this.yw+"px",backgroundColor:this.background}}},{key:"vrulerStyle",get:function(){return{width:this.yh+"px",height:this.yw+"px",top:0,left:"".concat(this.scrollY,"px")}}},{key:"hrulerStyle",get:function(){return{width:this.xw+"px",height:this.xh+"px",top:"".concat(this.scrollX,"px"),left:0}}},{key:"componentsWrapStyle",get:function(){return{top:this.xh+"px",left:this.yh+"px",width:"calc(100% - ".concat(this.xh,"px)"),height:"calc(100% - ".concat(this.yh,"px)")}}}]),e}(n["default"]),at=ct,ot=Object(P["a"])(at.prototype,"xw",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=Object(P["a"])(at.prototype,"yw",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=Object(P["a"])(at.prototype,"xh",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=Object(P["a"])(at.prototype,"yh",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=Object(P["a"])(at.prototype,"background",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=at))||nt),Se=Le,Te=(i("b9f4"),Object(s["a"])(Se,Ct,Lt,!1,null,null,null)),ze=Te.exports,_e=function(){function t(){Object(v["a"])(this,t),this.event={}}return Object(y["a"])(t,[{key:"on",value:function(t,e){return"function"!==typeof e?new Error("Parameter error,The second argument must be a function"):(this.event[t]?this.event[t].push(e):(this.event[t]=[],this.event[t].push(e)),this)}},{key:"off",value:function(t){if(this.event[t])for(var e in this.event)t===e&&delete this.event[e];return this}},{key:"trigger",value:function(t,e){if(this.event[t]&&wt()(this.event[t]))for(var i=this.event[t].slice(),n=0,a=i.length;n<a;n++)"function"===typeof i[n]&&i[n].apply(null,[e])}}]),t}(),Re={46:"DELETE",13:"ENTER",65:"A",83:"S",90:"Z",67:"C",86:"V"},Me=function(t){function e(){var t;return Object(v["a"])(this,e),t=Object(w["a"])(this,Object(x["a"])(e).call(this)),t.bindEvent(),t}return Object(O["a"])(e,t),Object(y["a"])(e,[{key:"register",value:function(t,e){var i=t.isCtrl?["pageEvent",t.key.toLocaleUpperCase(),"isCtrl"]:["pageEvent",t.key.toLocaleUpperCase()];return this.on(i.join("_"),e)}},{key:"unRegister",value:function(t){var e=t.isCtrl?["pageEvent",t.key.toLocaleUpperCase(),"isCtrl"]:["pageEvent",t.key.toLocaleUpperCase()];return this.off(e.join("_"))}},{key:"emit",value:function(t){(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?Re[t.keyCode]&&this.trigger(["pageEvent",Re[t.keyCode].toLocaleUpperCase(),"isCtrl"].join("_")):Re[t.keyCode]&&this.trigger(["pageEvent",Re[t.keyCode].toLocaleUpperCase()].join("_"))}},{key:"bindEvent",value:function(){var t=this;this.keydownEventFn=function(e){if(17===e.keyCode||93===e.keyCode)return!1;83==e.keyCode&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&e.preventDefault(),t.emit(e)},document.addEventListener("keydown",this.keydownEventFn)}},{key:"destroyedEvent",value:function(){document.removeEventListener("keydown",this.keydownEventFn),this.event={}}}]),e}(_e),Be=new N,Ee=null,He=(St=C()({components:{VueDraggableResizable:vt,pageCanvas:ze}}),Tt=Object(T["b"])("page"),zt=Object(T["b"])("plugins"),_t=Object(T["b"])("currentPlugins"),Rt=Object(T["a"])("addPlugin"),Mt=Object(T["a"])("updateCurrentPlugins"),Bt=Object(T["a"])("updatePluginsProps"),Et=Object(T["a"])("delPlugin"),St((Xt=function(t){function e(){var t,i;Object(v["a"])(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=Object(w["a"])(this,(t=Object(x["a"])(e)).call.apply(t,[this].concat(a))),Object(b["a"])(i,"page",Nt,Object(k["a"])(i)),Object(b["a"])(i,"plugins",Wt,Object(k["a"])(i)),Object(b["a"])(i,"currentPlugins",$t,Object(k["a"])(i)),Object(b["a"])(i,"addPlugin",At,Object(k["a"])(i)),Object(b["a"])(i,"updateCurrentPluginsFn",Ft,Object(k["a"])(i)),Object(b["a"])(i,"updatePluginsProps",Vt,Object(k["a"])(i)),Object(b["a"])(i,"delPluginFn",It,Object(k["a"])(i)),i.coordinate={x:0,y:0,w:400,h:100},i.checkPlugin=!1,i.pageEvent=null,i.auxLineY={},i.auxLineX={},i.resizing=E(function(t,e,i,n){Ee&&(Ee.currentPlugins.length&&(Ee.updatePluginsProps({id:Ee.currentPlugins[0].id,modify:{id:"custom.x",value:t}}),Ee.updatePluginsProps({id:Ee.currentPlugins[0].id,modify:{id:"custom.y",value:e}}),Ee.updatePluginsProps({id:Ee.currentPlugins[0].id,modify:{id:"custom.width",value:i}}),Ee.updatePluginsProps({id:Ee.currentPlugins[0].id,modify:{id:"custom.height",value:n}})),Ee.coordinate=S()({},Ee.coordinate,{x:t,y:e,w:i,h:n}))},500),i.dragging=E(function(t,e){Ee&&(Ee.currentPlugins.length&&(Ee.updatePluginsProps({id:Ee.currentPlugins[0].id,modify:{id:"custom.x",value:t}}),Ee.updatePluginsProps({id:Ee.currentPlugins[0].id,modify:{id:"custom.y",value:e}})),Ee.coordinate=S()({},Ee.coordinate,{x:t,y:e}))},500),i}return Object(O["a"])(e,t),Object(y["a"])(e,[{key:"bindEvent",value:function(){this.pageEvent=new Me,this.pageEvent.register({key:"delete"},this.delPluginCallback).register({key:"s",isCtrl:!0},this.savePageCallback).register({key:"z",isCtrl:!0},this.cancelCallback).register({key:"c",isCtrl:!0},this.copyPluginCallback).register({key:"v",isCtrl:!0},this.pastePluginCallback)}},{key:"delPluginCallback",value:function(){console.log("del"),this.currentPlugins.length&&this.delPluginFn(this.currentPlugins[0].id)}},{key:"savePageCallback",value:function(){console.log("save")}},{key:"cancelCallback",value:function(){console.log("cancel")}},{key:"copyPluginCallback",value:function(){console.log("copy")}},{key:"pastePluginCallback",value:function(){console.log("paste")}},{key:"dragover",value:function(t){t.preventDefault()}},{key:"drop",value:function(t){var e=t.dataTransfer.getData("componentsId"),i=/^([a-zA-Z]+)/.exec(e),n=null;i&&(n=Be.getOption(i[0])),n.length&&this.addPlugin(B(!0,{},n[0],{custom:{x:t.offsetX,y:t.offsetY}}))}},{key:"dragend",value:function(t){t.dataTransfer.clearData()}},{key:"activatedFn",value:function(t){this.checkPlugin=!0,this.updateCurrentPluginsFn(this.plugins.filter(function(e){return e.id===t}))}},{key:"deactivatedFn",value:function(){this.checkPlugin=!1,this.updateCurrentPluginsFn([])}},{key:"showVruleLine",value:function(t){this.auxLineY={display:"block",transform:"translateY(".concat(t.clientY-60,"px)")}}},{key:"hideVruleLine",value:function(t){this.auxLineY={display:"none"}}},{key:"showHruleLine",value:function(t){this.auxLineX={display:"block",transform:"translateX(".concat(t.clientX-200,"px)")}}},{key:"hideHruleLine",value:function(t){this.auxLineX={display:"none"}}},{key:"createRuler",value:function(t){var e=this;return t("div",{class:"designer-content-ruler"},[t(ze,{attrs:{xw:this.page.style.w,xh:18,yw:this.page.style.h,yh:18,background:this.page.style.background},on:{drop:function(t){return e.drop(t)},dragover:function(t){return e.dragover(t)},dragend:function(t){return e.dragend(t)},showVruleLine:function(t){e.showVruleLine(t)},hideVruleLine:function(t){e.hideVruleLine(t)},showHruleLine:function(t){e.showHruleLine(t)},hideHruleLine:function(t){e.hideHruleLine(t)}}},[this.createComponentsItem(t)])])}},{key:"createSetting",value:function(t){return t("div",{class:"designer-content-setting"},[this.checkPlugin&&t("ul",{class:"designer-content-setting__ul"},[t("li",[t("span",["Y:"]),t("span",[this.coordinate.y])]),t("li",[t("span",["X:"]),t("span",[this.coordinate.x])]),t("li",[t("span",["高:"]),t("span",[this.coordinate.h,"px"])]),t("li",[t("span",["宽:"]),t("span",[this.coordinate.w,"px"])])])])}},{key:"createAuxiliaryLineY",value:function(t){return t("div",{class:"designer-content-aus-line__y",style:this.auxLineY})}},{key:"createAuxiliaryLineX",value:function(t){return t("div",{class:"designer-content-aus-line__x",style:this.auxLineX})}},{key:"createComponentsItem",value:function(t){var e=this,i=[];return i=this.plugins.map(function(i){return e.createRoot(t,i,t(i.key,{props:{options:i.props}}))}),i}},{key:"createRoot",value:function(t,e,i){return t("VueDraggableResizable",{class:["designer-content-drag"],key:e.id,props:{w:e.custom.width,h:e.custom.height,x:e.custom.x,y:e.custom.y,parent:".page-canvas__components",snap:!0,minHeight:10,parentSelector:".page-canvas__components"},on:{resizing:this.resizing,dragging:this.dragging,activated:this.activatedFn.bind(this,e.id),deactivated:this.deactivatedFn}},[t("div",{class:["designer-content-drag-proxy"],style:{paddingTop:e.style.paddingTop+"px",paddingBottom:e.style.paddingBottom+"px",paddingLeft:e.style.paddingLeft+"px",paddingRight:e.style.paddingRight+"px",borderWidth:e.style.borderWidth+"px",borderStyle:e.style.borderStyle,borderColor:e.style.borderColor},attrs:{id:e.id}},[i])])}},{key:"render",value:function(t){return t("div",{class:"designer-content"},[this.createRuler(t),this.createSetting(t),this.createAuxiliaryLineX(t),this.createAuxiliaryLineY(t)])}},{key:"mounted",value:function(){Ee=this,this.bindEvent()}},{key:"destroyed",value:function(){this.pageEvent&&this.pageEvent.destroyedEvent()}}]),e}(n["default"]),Dt=Xt,Nt=Object(P["a"])(Dt.prototype,"page",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=Object(P["a"])(Dt.prototype,"plugins",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$t=Object(P["a"])(Dt.prototype,"currentPlugins",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=Object(P["a"])(Dt.prototype,"addPlugin",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=Object(P["a"])(Dt.prototype,"updateCurrentPluginsFn",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vt=Object(P["a"])(Dt.prototype,"updatePluginsProps",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=Object(P["a"])(Dt.prototype,"delPluginFn",[Et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht=Dt))||Ht),De=He,Ne=De,We=(i("5d68"),Object(s["a"])(Ne,Yt,Ut,!1,null,null,null)),$e=We.exports,Ae=(qt=C()({}),qt((Gt=function(t){function e(){var t,i;Object(v["a"])(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=Object(w["a"])(this,(t=Object(x["a"])(e)).call.apply(t,[this].concat(a))),i.componentsList=(new N).getDefaultConfig(),i}return Object(O["a"])(e,t),Object(y["a"])(e,[{key:"createComponentsItem",value:function(t){var e=this,i=[];return i=this.componentsList.map(function(i){return e.createRoot(t,i.key,i.custom.name,t(i.key,{props:{options:i.props}}))}),i}},{key:"createRoot",value:function(t,e,i,n){return t("div",{class:["components-list-item"],attrs:{draggable:!0,id:"".concat(e,"_").concat(R())},on:{dragover:this.dragover,dragstart:this.dragstart}},[this.createTitle(t,{name:i}),n])}},{key:"createTitle",value:function(t,e){return t("div",{class:["components-list-item__title"]},e.name)}},{key:"detectCreateElementParams",value:function(t){var e={},i=["class","style","attrs","props","domProps","on","nativeOn","directives","scopedSlots","slot","key","ref","refInFor"];return i.map(function(i){return t[i]&&(e[i]=t[i])}),S()({},e)}},{key:"dragstart",value:function(t){t.dataTransfer.setData("componentsId",t.target.id)}},{key:"dragover",value:function(t){t.preventDefault()}},{key:"render",value:function(t){return t("div",{class:["components-list"],attrs:{id:"ui-designer-components-list"}},this.createComponentsItem(t))}}]),e}(n["default"]),Kt=Gt))||Kt),Fe=Ae,Ve=Fe,Ie=(i("f615"),Object(s["a"])(Ve,Jt,Qt,!1,null,null,null)),Xe=Ie.exports,Ye=i("a4bb"),Ue=i.n(Ye),qe=function(t,e,i){var n=null;switch(e.type){case"input":n=t("el-input",{attrs:{value:i.handlerData(e.id,"get"),size:"small",placeholder:"请输入",disabled:!(!e.options||void 0===e.options.disabled)&&e.options.disabled},on:{input:function(t){i.handlerData({id:e.id,value:t},"set")}}},[e.unit&&t("template",{slot:"append"},[e.unit])]);break;case"inputNumber":n=t("el-input-number",{attrs:{value:i.handlerData(e.id,"get"),size:"small",disabled:!(!e.options||void 0===e.options.disabled)&&e.options.disabled,min:e.options&&void 0!==e.options.min?e.options.min:0,max:e.options&&void 0!==e.options.max?e.options.max:1/0,placeholder:"请输入"},on:{input:function(t){i.handlerData({id:e.id,value:t},"set")}}});break;case"select":n=t("el-select",{attrs:{value:i.handlerData(e.id,"get"),size:"small"},on:{input:function(t){i.handlerData({id:e.id,value:t},"set")}}},[e.list.map(function(e,i){return t("el-option",{key:i,attrs:{label:e.label,value:e.value}})})]);break;case"switch":n=t("xa-switch",{attrs:{value:i.handlerData(e.id,"get"),disabled:e.disabled,"active-value":e.activeValue||!0,"inactive-value":e.inactiveValue||!1,"active-text":e.activeText||"是","inactive-text":e.inactiveText||"否"},on:{change:function(t){i.handlerData({id:e.id,value:t},"set")}}});break;case"color":n=t("el-color-picker",{attrs:{value:i.handlerData(e.id,"get"),"show-alpha":!0},on:{change:function(t){i.handlerData({id:e.id,value:t},"set")}}});break;case"title":n=t("span",{class:"attributs-setting__title"},[e.label," :"]);break;case"tips":n=t("span",{class:"attributs-setting__tips"},[e.label]);break}return n},Ke=(Zt=C()({}),te=Pt(Object),ee=jt("options",{deep:!0,immediate:!0}),Zt((oe=function(t){function e(){var t,i;Object(v["a"])(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=Object(w["a"])(this,(t=Object(x["a"])(e)).call.apply(t,[this].concat(a))),Object(b["a"])(i,"options",ae,Object(k["a"])(i)),i.formMode={},i.formRules={},i}return Object(O["a"])(e,t),Object(y["a"])(e,[{key:"updateOptionsFn",value:function(t){this.createModel(),this.createRules()}},{key:"createRules",value:function(){}},{key:"createModel",value:function(){if(Ue()(this.options).length){var t={props:this.options.props,style:this.options.style,custom:this.options.custom};this.formMode=S()({},t)}}},{key:"createFormItem",value:function(t){var e=this;if(Ue()(this.options).length)return this.options.options.map(function(i){return"title"===i.type||"tips"===i.type?qe(t,i,e):t("el-form-item",{attrs:{label:i.label+": ",prop:i.id}},[qe(t,i,e)])})}},{key:"handlerData",value:function(t,e){var i=this,n={getData:function(t){var e=t.match(/\w+|\d+/g).reduce(function(t,e){if(t&&void 0!==t[e])return t[e]},i.formMode);return e},setData:function(t){this.getData(t.id)!==t.value&&i.$emit("updateOptions",{id:i.options.id,modify:t})}};return n["".concat(e,"Data")](t)}},{key:"mounted",value:function(){}},{key:"render",value:function(t){return Ue()(this.options).length?t("div",{class:["attributs-setting"]},[t("el-form",{props:{model:this.formMode,rules:this.formRules,"label-width":"80px"}},this.createFormItem(t))]):t("span",["暂无数据"])}}]),e}(n["default"]),ne=oe,ae=Object(P["a"])(ne.prototype,"options",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(P["a"])(ne.prototype,"updateOptionsFn",[ee],m()(ne.prototype,"updateOptionsFn"),ne.prototype),ie=ne))||ie),Ge=Ke,Je=(i("800d"),Object(s["a"])(Ge,se,re,!1,null,null,null)),Qe=Je.exports,Ze=(le=C()({components:{designerArea:$e,componentsList:Xe,pageFormView:Qe}}),ue=Object(T["b"])("plugins"),ce=Object(T["b"])("currentPlugins"),he=Object(T["b"])("page"),de=Object(T["a"])("updatePageProps"),pe=Object(T["a"])("updatePluginsProps"),ge=Object(T["a"])("setPerviewHtml"),fe=jt("plugins",{deep:!0}),me=jt("currentPlugins",{deep:!0,immediate:!0}),be=jt("pageState",{deep:!0,immediate:!0}),le((Ce=function(t){function e(){var t,n;Object(v["a"])(this,e);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=Object(w["a"])(this,(t=Object(x["a"])(e)).call.apply(t,[this].concat(o))),Object(b["a"])(n,"plugins",we,Object(k["a"])(n)),Object(b["a"])(n,"currentPlugins",xe,Object(k["a"])(n)),Object(b["a"])(n,"pageState",ke,Object(k["a"])(n)),Object(b["a"])(n,"updatePageProps",Oe,Object(k["a"])(n)),Object(b["a"])(n,"updatePluginsProps",Pe,Object(k["a"])(n)),Object(b["a"])(n,"setPerviewHtml",je,Object(k["a"])(n)),n.logo=i("534f"),n.componentList=[],n.currentPluginOptions={},n.pageOptions={},n}return Object(O["a"])(e,t),Object(y["a"])(e,[{key:"updateComponentsTree",value:function(t){var e=this;this.componentList=[],t.length&&t.map(function(t){e.componentList.push({label:t.custom.name,id:t.id,isCurrent:!0})})}},{key:"updateCurrentPluginsFn",value:function(t){var e=this;t[0]?(t[0].options.map(function(t){"inputNumber"===t.type&&t.options&&("custom.x"===t.id&&(t.options.max=e.pageState.style.w),"custom.y"===t.id&&(t.options.max=e.pageState.style.h),"custom.width"===t.id&&(t.options.max=e.pageState.style.w),"custom.height"===t.id&&(t.options.max=e.pageState.style.h))}),this.currentPluginOptions=B(!0,{},t[0]),this.$refs.componentTree&&this.$refs.componentTree.setCheckedKeys(t.map(function(t){return t.id}))):(this.currentPluginOptions={},this.$refs.componentTree&&this.$refs.componentTree.setCheckedKeys([]))}},{key:"updatePage",value:function(t){this.pageOptions=B(!0,{},t)}},{key:"updatePluginsPropsFn",value:function(t){this.updatePluginsProps(t)}},{key:"updatePageFn",value:function(t){this.updatePageProps(t)}},{key:"preview",value:function(){var t=document.querySelector("#pageCanvasContainer");this.setPerviewHtml(t.innerHTML),this.$router.push({name:"perview"})}},{key:"release",value:function(){}}]),e}(n["default"]),ye=Ce,we=Object(P["a"])(ye.prototype,"plugins",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=Object(P["a"])(ye.prototype,"currentPlugins",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=Object(P["a"])(ye.prototype,"pageState",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=Object(P["a"])(ye.prototype,"updatePageProps",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=Object(P["a"])(ye.prototype,"updatePluginsProps",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=Object(P["a"])(ye.prototype,"setPerviewHtml",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(P["a"])(ye.prototype,"updateComponentsTree",[fe],m()(ye.prototype,"updateComponentsTree"),ye.prototype),Object(P["a"])(ye.prototype,"updateCurrentPluginsFn",[me],m()(ye.prototype,"updateCurrentPluginsFn"),ye.prototype),Object(P["a"])(ye.prototype,"updatePage",[be],m()(ye.prototype,"updatePage"),ye.prototype),ve=ye))||ve),ti=Ze,ei=ti,ii=ei,ni=(i("8764"),Object(s["a"])(ii,p,g,!1,null,null,null)),ai=ni.exports,oi={name:"home",components:{desigenerPage:ai},data:function(){return{isMobile750:H}}},si=oi,ri=Object(s["a"])(si,h,d,!1,null,null,null),li=ri.exports;n["default"].use(c["a"]);var ui=new c["a"]({routes:[{path:"/",name:"home",component:li},{path:"/perview",name:"perview",component:function(){return i.e("chunk-7f605937").then(i.bind(null,"d430"))}}]}),ci=i("2f62"),hi=function(t){function e(){var t;return Object(v["a"])(this,e),t=Object(w["a"])(this,Object(x["a"])(e).call(this)),t.plugins=[],t}return Object(O["a"])(e,t),Object(y["a"])(e,[{key:"setPlugin",value:function(t){return this.plugins.push(this.addAttrs(S()({},t))),this.trigger("add-plugins"),this}},{key:"detPlugin",value:function(t){t||(this.plugins=[]);for(var e=[0,this.plugins.length],i=e[0],n=e[1];i<n;i++)if(this.plugins[i].id===t){this.plugins.splice(i,1);break}return this}},{key:"getPlguin",value:function(t){return B(!0,[],t?this.plugins.filter(function(e){return e.key===t}):this.plugins)}},{key:"addAttrs",value:function(t){return t["id"]=t.key+"_"+R(),t.custom&&(t.custom["id"]=t.id),t}},{key:"setOption",value:function(t){for(var e=[0,this.plugins.length],i=e[0],n=e[1],a=e[2],o=e[3],s=e[4];i<n;i++)if(s=this.plugins[i],s.id===t.id){a=t.modify.id.match(/\w+|\d+/g),o=a.pop();var r=a.reduce(function(t,e){return t[e]},s);r&&(r[o]=t.modify.value);break}return this}}]),e}(_e),di=null,pi={style:{background:"#fbfbfb",w:1920,h:850},options:[{label:"提示:宽度大小建议为1920,1600,1366,1440,1280",type:"tips"},{id:"style.w",label:"宽",type:"inputNumber"},{id:"style.h",label:"高",type:"inputNumber"},{id:"style.background",label:"背景色",type:"color"}]},gi=function(t){function e(){var t;return Object(v["a"])(this,e),t=Object(w["a"])(this,Object(x["a"])(e).call(this)),di||(t.plugins=new hi,t.page=[{id:"page_"+R(),plugins:[],style:S()({},pi.style),options:pi.options}],di=Object(k["a"])(t)),Object(w["a"])(t,di)}return Object(O["a"])(e,t),Object(y["a"])(e,[{key:"createPage",value:function(t){this.page.push(B(!0,{},t))}},{key:"findPage",value:function(t,e){var i=0;while(1){if(this.page[i].id===t){e(this.page[i]);break}i++}}},{key:"updatePage",value:function(t){for(var e=[0,this.page.length],i=e[0],n=e[1],a=e[2],o=e[3],s=e[4];i<n;i++)if(s=this.page[i],s.id===t.id){a=t.modify.id.match(/\w+|\d+/g),o=a.pop();var r=a.reduce(function(t,e){return t[e]},s);r&&(r[o]=t.modify.value);break}return this}},{key:"addPlugin",value:function(t){var e=this,i=[],n=function(n){n.plugins=i=e.plugins.setPlugin(t.options).getPlguin()};return this.findPage(t.pageId,n),i}},{key:"delPlugin",value:function(t){var e=this,i=[],n=function(n){n.plugins=i=e.plugins.detPlugin(t.pluginId).getPlguin()};return this.findPage(t.pageId,n),i}},{key:"updatePlugin",value:function(t){var e=this,i=[],n=function(n){n.plugins=i=e.plugins.setOption(t.options).getPlguin()};return this.findPage(t.pageId,n),i}}]),e}(_e),fi=new gi;window.webDesigner={page:fi.page[0]},n["default"].use(ci["a"]);var mi,bi,vi=new ci["a"].Store({state:{page:fi.page[0],plugins:[],currentPlugins:[],perviewHtml:""},mutations:{updatePageProps:function(t,e){t.page=fi.updatePage(e).page[0]},addPlugin:function(t,e){t.plugins=fi.addPlugin({pageId:t.page.id,options:e})},delPlugin:function(t,e){t.plugins=fi.delPlugin({pageId:t.page.id,pluginId:e}),t.currentPlugins=[]},updatePluginsProps:function(t,e){t.plugins=fi.updatePlugin({pageId:t.page.id,options:e}),t.currentPlugins=t.plugins.filter(function(e){return e.id===t.currentPlugins[0].id})},updateCurrentPlugins:function(t,e){t.currentPlugins=[],t.currentPlugins=B(!0,[],e)},setPerviewHtml:function(t,e){t.perviewHtml=e}},actions:{}}),yi=i("5c96"),wi=i.n(yi),xi=(i("386d"),{name:"xaInput",data:function(){return{}},props:{options:Object},methods:{},computed:{styles:function(){return{width:"100%",height:"100%"}}},render:function(t){return t("div",{class:"xa-input",style:this.styles},[t("el-input",{attrs:{value:this.options.value,placeholder:this.options.placeholder,type:this.options.type,size:this.options.size,clearable:this.options.clearable,disabled:this.options.disabled,readonly:this.options.readonly,maxlength:this.options.maxlength,icon:this.options.icon,prefix:this.options.prefix,suffix:this.options.suffix,search:this.options.search,"enter-button":this.options.enterButton,rows:this.options.rows,autosize:this.options.autosize,number:this.options.number,autofocus:this.options.autofocus,autocomplete:this.options.autocomplete}})])}}),ki=xi,Oi=(i("4336"),Object(s["a"])(ki,mi,bi,!1,null,null,null)),Pi=Oi.exports,ji=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-switch xa-switch",class:{"is-disabled":t.switchDisabled,"is-checked":t.checked},attrs:{role:"switch","aria-checked":t.checked,"aria-disabled":t.switchDisabled},on:{click:t.switchValue}},[i("input",{ref:"input",staticClass:"el-switch__input",attrs:{type:"checkbox",id:t.id,name:t.name,"true-value":t.activeValue,"false-value":t.inactiveValue,disabled:t.switchDisabled},on:{change:t.handleChange,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.switchValue(e)}}}),i("span",{ref:"core",class:t.checked?"el-switch__core el-switch__actived":"el-switch__core el-switch__inactive",style:{width:t.coreWidth+"px"}},[t._v("\n      "+t._s(t.checked?t.activeText:t.inactiveText)+"\n  ")])])},Ci=[],Li=i("b044"),Si=i("6725"),Ti={name:"xaSwitch",mixins:[Object(Li["a"])("input"),Si["a"]],inject:{elForm:{default:""}},props:{value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:50},activeIconClass:{type:String,default:""},inactiveIconClass:{type:String,default:""},activeText:{type:String,default:"开启"},inactiveText:{type:String,default:"关闭"},activeColor:{type:String,default:"#13ce66"},inactiveColor:{type:String,default:"#909399"},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},id:String},data:function(){return{coreWidth:this.width}},created:function(){~[this.activeValue,this.inactiveValue].indexOf(this.value)||this.$emit("input",this.inactiveValue)},computed:{checked:function(){return this.value===this.activeValue},switchDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{checked:function(){this.$refs.input.checked=this.checked,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor()}},methods:{handleChange:function(t){var e=this;this.$emit("input",this.checked?this.inactiveValue:this.activeValue),this.$emit("change",this.checked?this.inactiveValue:this.activeValue),this.$nextTick(function(){e.$refs.input.checked=e.checked})},setBackgroundColor:function(){var t=this.checked?this.activeColor:this.inactiveColor;this.$refs.core.style.borderColor=t,this.$refs.core.style.backgroundColor=t},switchValue:function(){!this.switchDisabled&&this.handleChange()},getMigratingConfig:function(){return{props:{"on-color":"on-color is renamed to active-color.","off-color":"off-color is renamed to inactive-color.","on-text":"on-text is renamed to active-text.","off-text":"off-text is renamed to inactive-text.","on-value":"on-value is renamed to active-value.","off-value":"off-value is renamed to inactive-value.","on-icon-class":"on-icon-class is renamed to active-icon-class.","off-icon-class":"off-icon-class is renamed to inactive-icon-class."}}}},mounted:function(){this.coreWidth=this.width||40,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.$refs.input.checked=this.checked}},zi=Ti,_i=(i("13e9"),Object(s["a"])(zi,ji,Ci,!1,null,null,null)),Ri=_i.exports,Mi={xaInput:Pi,xaSwitch:Ri},Bi=function(){Ue()(Mi).map(function(t){n["default"].component(t,Mi[t])})},Ei=Bi;i("0fae"),i("52c1"),i("4185");n["default"].use(wi.a),n["default"].config.productionTip=!1,Ei(),window.Uidesigner={},window.Uidesigner.$event=new _e,window.Uidesigner.pluginsIns=null,new n["default"]({router:ui,store:vi,render:function(t){return t(u)}}).$mount("#app")},"5d68":function(t,e,i){"use strict";var n=i("b2c0"),a=i.n(n);a.a},"64a9":function(t,e,i){},"6cf8":function(t,e,i){},"754f":function(t,e,i){},"800d":function(t,e,i){"use strict";var n=i("426e"),a=i.n(n);a.a},8764:function(t,e,i){"use strict";var n=i("754f"),a=i.n(n);a.a},a664:function(t,e,i){},a912:function(t,e,i){},b2c0:function(t,e,i){},b9f4:function(t,e,i){"use strict";var n=i("16d9"),a=i.n(n);a.a},ee74:function(t,e,i){"use strict";var n=i("a912"),a=i.n(n);a.a},f615:function(t,e,i){"use strict";var n=i("6cf8"),a=i.n(n);a.a}});