(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5269b5f1"],{"478c":function(t,e,i){},"54a5":function(t,e,i){"use strict";var a=i("478c"),n=i.n(a);n.a},d430:function(t,e,i){"use strict";i.r(e);i("2397"),i("6b54");var a,n,o,r,l,s,c,u,p,g,d=i("5e15"),h=i("d225"),y=i("b0b4"),f=i("013f"),b=i("4e2b"),m=i("308d"),v=i("6bb5"),w=i("d360"),O=(i("77a7"),i("2b0e")),j=i("2fe1"),k=i("4bb5"),x=i("31dd");function S(t){var e=$();return function(){var i,a=Object(v["a"])(t);if(e){var n=Object(v["a"])(this).constructor;i=Reflect.construct(a,arguments,n)}else i=a.apply(this,arguments);return Object(m["a"])(this,i)}}function $(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var R,_,C=(a=Object(j["b"])({}),n=Object(k["b"])("perviewHtml"),o=Object(k["b"])("page"),r=Object(k["b"])("plugins"),a((g=function(t){Object(b["a"])(a,t);var e=S(a);function a(){var t;Object(h["a"])(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),Object(d["a"])(t,"perviewHtml",c,Object(f["a"])(t)),Object(d["a"])(t,"page",u,Object(f["a"])(t)),Object(d["a"])(t,"plugins",p,Object(f["a"])(t)),t.logo=i("534f"),t}return Object(y["a"])(a,[{key:"back",value:function(){this.$router.push({name:"home"})}},{key:"save",value:function(t){var e=this;return new Promise((function(i){window.localStorage.setItem("pagePlugins",JSON.stringify(e.$store.state.plugins,(function(t,e){return"function"===typeof e?e.toString():e}))),"release"!==t&&e.$alert("数据保存成功","提示",{confirmButtonText:"确定"}),i()}))}},{key:"release",value:function(){var t=this;this.save("release").then((function(){var e=t.$notify.info({title:"提示",duration:0,showClose:!1,message:"模版生成中,请稍后..."});t.$http.post("/api/release",{page:JSON.stringify(t.$store.state.page),terminal:navigator.platform.indexOf("Mac")>-1?"mac":"windows"}).then((function(i){e.close(),t.$notify({title:"成功",message:"模版生成成功",type:"success"}),t.$http.post("/api/install")}),(function(i){e.close(),t.$notify.error({title:"错误",message:"模版生成失败,"+i.data.msg})}))}))}},{key:"getComponentStyle",value:function(t){return{paddingTop:t.style.paddingTop+"px",paddingBottom:t.style.paddingBottom+"px",paddingLeft:t.style.paddingLeft+"px",paddingRight:t.style.paddingRight+"px",borderWidth:t.style.borderWidth+"px",borderStyle:t.style.borderStyle,borderColor:t.style.borderColor,backgroundColor:t.style.backgroundColor,position:"absolute",left:t.custom.x+"px",top:t.custom.y+"px",width:t.custom.width+"px",height:t.custom.height+"px"}}},{key:"getPage",value:function(t){var e=this;return"1"===this.page.style.layoutStyle?this.plugins.map((function(i){return t("div",{attrs:{id:i.id},style:e.getComponentStyle(i)},[t(i.key,{props:{options:i.props,children:i.children,custom:i.custom}})])})):t(x["a"],{attrs:{children:this.plugins,isRuntime:!0}})}},{key:"mounted",value:function(){}},{key:"render",value:function(t){return t("div",{class:"perview"},[t("div",{class:"page-header-tools"},[t("img",{attrs:{src:this.logo,alt:"Web Designer"}}),t("div",{class:"page-header-tools__wrap"},[t("ul",{class:"page-header-tools__ul"},["1"===this.page.style.layoutStyle&&t("li",{style:"color: #757575;font-size: 14px;"},["页面尺寸:",t("span",[this.page.style.w])," *",t("span",[this.page.style.h])]),t("li",{class:"page-header-tools__ul-item",on:{click:this.back}},["返回设计器"]),t("li",{class:"page-header-tools__ul-item",on:{click:this.release}},["发布"])])])]),t("div",{class:"perview-html",style:this.perviewHtmlStyle},[this.getPage(t)])])}},{key:"perviewHtmlStyle",get:function(){return{width:"1"===this.page.style.layoutStyle?this.page.style.w+"px":"100%",height:"1"===this.page.style.layoutStyle?this.page.style.h+"px":"100%",background:this.page.style.background,margin:"0 auto"}}}]),a}(O["default"]),s=g,c=Object(w["a"])(s.prototype,"perviewHtml",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=Object(w["a"])(s.prototype,"page",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=Object(w["a"])(s.prototype,"plugins",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=s))||l),H=C,P=H,z=(i("54a5"),i("2877")),J=Object(z["a"])(P,R,_,!1,null,null,null);e["default"]=J.exports}}]);